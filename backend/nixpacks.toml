[phases.setup]
nixPkgs = ["maven", "jdk21"]

[phases.build]
cmds = [
  "chmod +x ./mvnw",
  "./mvnw clean package -DskipTests"
]

[phases.start]
cmd = "java -jar target/pet-gallery-backend-1.0.0.jar"

[variables]
# Railway asigna PORT autom√°ticamente, no configurar SERVER_PORT
# CORS_ALLOWED_ORIGINS debe configurarse en Railway con: https://pet-gallery.alejandrotech.eu
CORS_ALLOWED_ORIGINS = "http://localhost:3000,https://pet-gallery.alejandrotech.eu"

